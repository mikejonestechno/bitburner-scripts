import { NS } from "@ns";

/**
 * Weakens the specified target server with optional flags for threads and iterations.
 * RAM COST: 1.75GB
 * @usage ns.exec("malware/weaken.js", <host>, 9, <target>)
 * @param ns - The netscript interface to bitburner functions.
 */
export async function main(ns: NS): Promise<void> {
    const target = ns.args[0] as string;

    // no validation or logic in the script to minimize ram cost

    const startPerformance = performance.now();

    const securityDecrease = await ns.weaken(target);

    ns.printf(`Security weakened by ${securityDecrease} on ${target} in ${(performance.now() - startPerformance).toFixed(2)} milliseconds.`);

}
