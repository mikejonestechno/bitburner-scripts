// import { functionName, functionName2 } from "./utils.js"
// RAM 1.70 GB (base, hack)

/* hack: Minimal hack-only script, repeat hack x times
 * syntax: hack.js --target=foodnstuff --iterations=2"
 */

/** @param {NS} ns **/
export async function main(ns) {

    const args = ns.flags([
        ['target', ""], 
        ['iterations', 1],
    ]);
    const target = args.target;
    const iterations = args.iterations;

    for(let i=1;i<=iterations;i++){
        var start = performance.now()
        await ns.hack(target);
        ns.printf(`Hacked %s: %.2f milliseconds`, target, performance.now() - start);
        if(i < iterations) {
            // Small delay to allow any parallel threads to finish so next iteration get max hack chance
            await ns.sleep(100);
        } 
    }


}