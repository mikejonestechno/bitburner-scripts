import { NS } from "@ns";

/**
 * Hacks the specified target server with optional flags for threads and iterations.
 * RAM COST: 1.70GB
 * @usage ns.exec("malware/hack.js", <host>, 9, <target>)
 * @param ns - The netscript interface to bitburner functions.
 */
export async function main(ns: NS): Promise<void> {
    const target = ns.args[0] as string;

    // no validation or logic in the script to minimize ram cost

    const startPerformance = performance.now();

    const waitTime = Math.floor(Math.random() * 100); // Generate random wait time between 0 and 100 milliseconds
    await ns.sleep(waitTime);

    const stolenMoney = await ns.hack(target);
    
    ns.printf(`Stole ${stolenMoney} from ${target} in ${(performance.now() - startPerformance).toFixed(2)} milliseconds.`);
}
